# Soldier Test Configuration
# All backends use in-memory implementations for isolated testing

debug = true
log_level = "DEBUG"

[api]
workers = 1

[api.rate_limit]
enabled = false

# All storage backends use in-memory for testing
[storage.config]
backend = "inmemory"

[storage.memory]
backend = "inmemory"

[storage.session]
backend = "inmemory"

[storage.audit]
backend = "inmemory"

# Embedding and rerank providers use mock implementations
[providers.embedding.default]
provider = "mock"
model = "mock-embedding"

[providers.rerank.default]
provider = "mock"
model = "mock-rerank"

# Pipeline uses mock models for testing
[pipeline.context_extraction]
model = "mock/haiku"

[pipeline.rule_filtering]
model = "mock/haiku"

[pipeline.scenario_filtering]
model = "mock/haiku"

[pipeline.generation]
model = "mock/sonnet"

[pipeline.memory_ingestion.entity_extraction]
model = "mock/haiku"

[pipeline.memory_ingestion.summarization.window]
model = "mock/haiku"

[pipeline.memory_ingestion.summarization.meta]
model = "mock/haiku"

[observability.logging]
level = "DEBUG"
format = "console"

[observability.tracing]
enabled = false

[observability.metrics]
enabled = false
